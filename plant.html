<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="format-detection" content="telephone=on"/>
    <title>交易大厅</title>
    <link rel="stylesheet" href="css/weui.min.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/weui.min.js"></script>
    <script src="js/public.js"></script>


    <!-- 插件 -->
    <link rel="stylesheet" href="css/rangeslider.css">

</head>
<body>
<div class="page__bd page__bd_spacing">
    <div class="page_nav clear">
        <div class="page_nav_fl fl ">
            <!--<a href=""><img src="img/iconfont-jiantou-(6).png" alt=""></a>-->
        </div>
        <div class="page_nav_cen fl">
            <!--<div class=" textCen page_nav_cen-text">-->
            交易大厅
            <!--</div>-->
        </div>
        <div class="page_nav_fl fr  ">

        </div>
    </div>
</div>
<div class="lin_index">

    <div class="lin-tab clear">
        <div class="lin-tab-list act">种植类型</div>
        <div class="lin-tab-list">我的种植</div>
        <div class="lin-tab-list">种植记录</div>
    </div>
</div>
<div class="">
    <!-- 种植类型 -->
    <div class="plant-con">
        <div class="weui-media-box weui-media-box_appmsg myPwd" data-id="10321">
            <div class="weui-media-box__hd">
                <img class="weui-media-box__thumb" src="img/VCG21b56cd385b.jpg" alt="">
            </div>
            <div class="weui-media-box__bd">
                <h4 class="weui-media-box__title">种植香菇</h4>
                <p class="weui-media-box__desc"> 日产量：<span class="col46ac1a">1.0‰碳积分 </span></p>
                <p class="weui-media-box__desc">价格：<span class="colff9000">30份种子</span></p>
            </div>
            <div class="plant_link">
                <a href="javascript:;" onclick="plantNub(this,1,400,4000)" class="plant_link_a plant_link_afirst">种植</a>
            </div>
        </div>
        <div class="weui-media-box weui-media-box_appmsg myPwd" data-id="10321">
            <div class="weui-media-box__hd">
                <img class="weui-media-box__thumb" src="img/VCG21b56cd385b.jpg" alt="">
            </div>
            <div class="weui-media-box__bd">
                <h4 class="weui-media-box__title">种植香菇</h4>
                <p class="weui-media-box__desc"> 日产量：<span class="col46ac1a">1.0‰碳积分 </span></p>
                <p class="weui-media-box__desc">价格：<span class="colff9000">30份种子</span></p>
            </div>
            <div class="plant_link">
                <a href="javascript:;" onclick="plantNub(this,1,4,400)" class="plant_link_a plant_link_afirst">种植</a>
            </div>
        </div>
        <div class="weui-media-box weui-media-box_appmsg myPwd" data-id="10321">
            <div class="weui-media-box__hd">
                <img class="weui-media-box__thumb" src="img/VCG21b56cd385b.jpg" alt="">
            </div>
            <div class="weui-media-box__bd">
                <h4 class="weui-media-box__title">种植香菇</h4>
                <p class="weui-media-box__desc"> 日产量：<span class="col46ac1a">1.0‰碳积分 </span></p>
                <p class="weui-media-box__desc">价格：<span class="colff9000">30份种子</span></p>
            </div>
            <div class="plant_link">
                <a href="javascript:;" onclick="plantNub(this,1,200,1000)" class="plant_link_a plant_link_afirst">种植</a>
            </div>
        </div>
        <div class="weui-media-box weui-media-box_appmsg myPwd" data-id="10321">
            <div class="weui-media-box__hd">
                <img class="weui-media-box__thumb" src="img/VCG21b56cd385b.jpg" alt="">
            </div>
            <div class="weui-media-box__bd">
                <h4 class="weui-media-box__title">种植香菇</h4>
                <p class="weui-media-box__desc"> 日产量：<span class="col46ac1a">1.0‰碳积分 </span></p>
                <p class="weui-media-box__desc">价格：<span class="colff9000">30份种子</span></p>
            </div>
            <div class="plant_link">
                <a href="javascript:;" onclick="plantNub(this,1,20,2000)" class="plant_link_a plant_link_afirst">种植</a>
            </div>
        </div>
    </div>
    <!-- 我的种植 -->
    <div style="display: none" class="plant-con">
        <div class="weui-media-box weui-media-box_appmsg myPwd" data-id="10321">
            <div class="weui-media-box__hd">
                <img class="weui-media-box__thumb" src="img/VCG21b56cd385b.jpg" alt="">
            </div>
            <div class="weui-media-box__bd">
                <h4 class="weui-media-box__title">种植香菇</h4>
                <p class="weui-media-box__desc"> 日产量：<span class="col46ac1a">1.0‰碳积分 </span></p>
                <p class="weui-media-box__desc">价格：<span class="colff9000">30份种子</span></p>
            </div>
            <div class="plant_link">
                <a href="javascript:;" onclick="reCastNub(this,1,0,400)" class="plant_link_a plant_link_afirst">复投</a>
                <a href="plant_details.html" class="plant_link_a plant_link_alast">详情</a>
            </div>

        </div>
    </div>
    <!-- 种植记录 -->
    <div style="display: none" class="plant-con">
        <table class="u_merchant_l-t_table" border="0" cellspacing="0" cellpadding="0">
            <tr>
                <th>日期</th>
                <th>时长</th>
                <th>产出</th>
                <th>产率</th>

            </tr>
            <tr>
                <td>2018/05/16</td>
                <td>1.8</td>
                <td>24</td>
                <td>4.0%</td>

            </tr>

        </table>
    </div>
</div>

<div class="weui-tab">
    <div class="weui-tab__panel">
    </div>
    <div class="weui-tabbar">
        <a href="index.html" class="weui-tabbar__item  ">
            <img src="img/home_1.png" data-src="img/home_fill_1.png" alt="" class="weui-tabbar__icon">
            <p class="weui-tabbar__label">交易</p>
        </a>
        <a href="plant.html" class="weui-tabbar__item weui-bar__item_on">
            <img src="img/home_fill_2.png" data-src="img/home_2.png" alt="" class="weui-tabbar__icon">
            <p class="weui-tabbar__label">种植</p>
        </a>
        <a href="news.html" class="weui-tabbar__item">
            <img src="img/home_3.png" data-src="img/home_fill_3.png" alt="" class="weui-tabbar__icon">
            <p class="weui-tabbar__label">资讯</p>
        </a>
        <a href="user.html" class="weui-tabbar__item ">
            <img src="img/home_4.png" data-src="img/home_fill_4.png" alt="" class="weui-tabbar__icon">
            <p class="weui-tabbar__label">我的</p>
        </a>
    </div>
</div>

<div class="Bodymask plant_box"  >
    <div class=plant_box_abs>
        <div class="plant_box_abs-tit">确定种植吗？</div>
        <div class="plant_box_abs-con">
            <div class="plant_box_abs-con-h">种植类型： 金银花 </div>
            <div class="plant_box_abs-con-h">所需种子：<span class="colff9000">4951-9900</span>份</div>
        </div>
        <div class="plant_box_abs-nub clear">
            <div class="fl">选择种子数：</div>
            <div class="fr"><span class="colff9000" id="plantNub">0</span>份</div>
        </div>
        <input type="range" min="" max="" step="1" id="rangeNub" value="0" data-rangeslider=""
               style="position: absolute; width: 1px; height: 1px; overflow: hidden; opacity: 0;">
        <div class="clear plant_box_abs-btn">
            <div class="fl">
                <a href="javascript:;" class="plant_box_abs-link plant_box_abs-cancel" onclick="plantCancel()">取消</a>
            </div>
            <div class="fr">
                <a href="javascript:;" class="plant_box_abs-link plant_box_abs-confirm" onclick="plantConfirm()">确定</a>
            </div>
        </div>
    </div>
</div>
<div class="Bodymask reCast_box"  style="display: none">
    <div class=plant_box_abs>
        <div class="plant_box_abs-tit">确定复投吗？</div>
        <div class="plant_box_abs-con">
            <div class="plant_box_abs-con-h">复投类型： 金银花 </div>
            <div class="plant_box_abs-con-h">当前种子：<span class="colff9000">8800份</span>份</div>
        </div>
        <div class="plant_box_abs-nub clear">
            <div class="fl">复投种子：<span class="colff9000" id="reCastNub">10</span>份</div>
            <div class="fr">
                <div class="fr">
                    <img src="img/next_jj.png " class="obla-nub-jj-btn" onclick="andSubtract(this,'jian')" data-type="num">
                    <input type="number" name="priceNub" value="3" class=" obla-nub-jj-nub" id="priceNub" />
                    <img src="img/next_add.png" class="obla-nub-jj-btn  " onclick="andSubtract(this,'jia')" data-type="num">
                </div>
            </div>
        </div>
        <div class="clear plant_box_abs-btn">
            <div class="fl">
                <a href="javascript:;" class="plant_box_abs-link plant_box_abs-cancel" onclick="reCastCancel()">取消</a>
            </div>
            <div class="fr">
                <a href="javascript:;" class="plant_box_abs-link plant_box_abs-confirm" onclick="reCastConfirm()">确定</a>
            </div>
        </div>
    </div>
</div>




<script src="js/rangeslider.min.js"></script>
<script>
    //切换
    $(".lin-tab-list").click(function () {
        $(this).addClass("act").siblings(".lin-tab-list").removeClass("act");
        $(".plant-con").eq($(this).index()).show().siblings(".plant-con").hide()
    })

    //点击复投
    function  reCastNub() {
        $(".reCast_box").show();
    }

    function  andSubtract(that,typeNub) {
        var inputVal=parseInt($("#priceNub").val()),Vla=$("#priceNub"),reCastNub=parseInt($.trim($("#reCastNub").text()));
        if(typeNub=="jian"){
            inputVal>1?Vla.val(--inputVal):Vla.val(1);
        }else{
             inputVal<reCastNub?Vla.val(++inputVal):Vla.val(reCastNub);
        }
    }

    function  reCastCancel() {
        $(".reCast_box").hide();
    }


    function  reCastConfirm() {
        var reCastNub=parseInt($.trim($("#reCastNub").text()));
        $(".reCast_box").hide();
    }


    //点击种植
   /*
   that:当前元素
   id：产品id
   min：最小种植数量
   max：最大种植数量
   */
    function  plantNub(that,id,min,max) {

        $(".plant_box").show();
        $("#rangeNub").attr({"min":min,"max":max});
        var $document = $(document);
        var selector = '[data-rangeslider]';
        var $inputRange = $(selector);
        // Example functionality to demonstrate a value feedback
        // and change the output's value.
        // Update value output
        $document.on('input', selector, function (e) {
            console.log(e.target)
            valueOutput(e.target);
        });
        // Initialize the elements
        $inputRange.rangeslider({
            polyfill: false
        });
    }
    function valueOutput(element) {
        var value = element.value;
        console.log(value);
        $("#plantNub").text(value)
    }


    function  plantCancel() {
        $(".plant_box").hide();
        $(".rangeslider__fill").css("width","10px");
        $(".rangeslider__handle").css("left","0px");

    }


    function  plantConfirm() {
        var nub=$('#plantNub').text();
        $(".plant_box").hide();
    }
</script>


</body>
</html>